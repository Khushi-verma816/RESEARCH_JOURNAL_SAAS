{% extends "base.html" %}

{% block title %}Journals - Research Journal SaaS{% endblock %}

{% block content %}
<div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
        <h1 style="color: #007bff; margin: 0;">ðŸ“š Journals</h1>
        {% if current_user.has_role('admin') or current_user.has_role('editor') %}
        <a href="{{ url_for('journal.create') }}" 
           style="padding: 10px 20px; background: #28a745; color: white; text-decoration: none; border-radius: 6px;">
            âž• Create Journal
        </a>
        {% endif %}
    </div>

    {% if journals %}
        <div style="display: grid; gap: 20px;">
            {% for journal in journals %}
            <div style="border: 1px solid #ddd; padding: 20px; border-radius: 8px;">
                <h3 style="color: #333; margin: 0 0 10px 0;">{{ journal.name }}</h3>
                <p style="color: #666; margin: 10px 0;">{{ journal.description or 'No description available' }}</p>
                
                <div style="margin-top: 15px; display: flex; gap: 10px;">
                    <a href="{{ url_for('journal.view', journal_id=journal.id) }}" 
                       style="padding: 8px 16px; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">
                        View Details
                    </a>
                    {% if journal.is_accepting_submissions %}
                    <a href="{{ url_for('journal.submit', journal_id=journal.id) }}" 
                       style="padding: 8px 16px; background: #28a745; color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">
                        Submit Manuscript
                    </a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div style="text-align: center; padding: 40px; background: #f8f9fa; border-radius: 8px;">
            <p style="color: #666; font-size: 18px; margin-bottom: 20px;">No journals available yet.</p>
            {% if current_user.has_role('admin') or current_user.has_role('editor') %}
            <a href="{{ url_for('journal.create') }}" 
               style="padding: 12px 24px; background: #28a745; color: white; text-decoration: none; border-radius: 6px; display: inline-block;">
                Create Your First Journal
            </a>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}
